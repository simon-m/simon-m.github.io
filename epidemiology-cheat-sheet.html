<!DOCTYPE html>
<html lang="en">
<head>
          <title>Weblog</title>
        <meta charset="utf-8" />
        <link href="https://simon-m.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Weblog Full Atom Feed" />
        <link href="https://simon-m.github.io/feeds/epidemiology.atom.xml" type="application/atom+xml" rel="alternate" title="Weblog Categories Atom Feed" />


    <meta name="tags" content="Epidemiology" />
    <meta name="tags" content="Incidence" />
    <meta name="tags" content="Prevalence" />
    <meta name="tags" content="Random trial" />
    <meta name="tags" content="Risk" />
    <meta name="tags" content="Cohort" />
    <meta name="tags" content="Cross-sectional" />
    <meta name="tags" content="Case-control" />

</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="https://simon-m.github.io/">Weblog <strong>Random notes about data analysis at large</strong></a></h1>
        </header><!-- /#banner -->
        <nav id="menu"><ul>
            <li><a href="categories.html">Categories</a></li>
            <li><a href="tags.html">Tags</a></li>
            <li><a href="https://simon-m.github.io/pages/links.html">Links</a></li>
        </ul></nav><!-- /#menu -->
<section id="content" class="body">
  <header>
    <h2 class="entry-title">
      <a href="https://simon-m.github.io/epidemiology-cheat-sheet.html" rel="bookmark"
         title="Permalink to Epidemiology cheat sheet">Epidemiology cheat sheet</a></h2>
 
  </header>
  <footer class="post-info">
    <time class="published" datetime="2017-11-25T18:47:00+01:00">
      Sat 25 November 2017
    </time>
    <time class="modified" datetime="2017-11-25T18:47:00+01:00">
      Sat 25 November 2017
    </time>
    <address class="vcard author">
      By           <a class="url fn" href="https://simon-m.github.io/author/simon-m.html">Simon-M</a>
    </address>
  </footer><!-- /.post-info -->
  <div class="entry-content">
    <p>I am currently learning about epidemiology so here is a short summary of the essential concepts of the field.
Most of what you will find below is a summary of the excellent lecture slides of the
<a href="http://ocw.jhsph.edu/index.cfm/go/viewCourse/course/fundepiii/coursePage/lectureNotes/">Fundamentals of Epidemiology</a>
and
<a href="http://ocw.jhsph.edu/index.cfm/go/viewCourse/course/FundEpi/coursePage/lectureNotes/">Fundamentals of Epidemiology II</a>
courses from the <a href="https://www.jhsph.edu/">Johns Hopkins Bloomberg School of Public Health</a> so most credits go to them.</p>
<h1>TODO:</h1>
<p>instead of an <em>event</em>, consider a <em>period diseased</em> which greatly help to show the difference between incidence and prevalence.</p>
<h1>Summary measures</h1>
<p>Sources:</p>
<ul>
<li><a href="http://ocw.jhsph.edu/courses/FundEpi/PDFs/Lecture5.pdf">This lecture</a></li>
<li>Rothman, Kenneth J., Sander Greenland, and Timothy L. Lash, eds. Modern epidemiology Chapter 3. Lippincott Williams &amp; Wilkins, 2008.</li>
</ul>
<h2>Ratio vs proportion vs rates vs odds vs odds ratio:</h2>
<p>Variables \(a\) and \(b\) are absolute freuencies (counts).
Variable \(p\) and \(q\)are proportions.</p>
<ul>
<li><strong>Ratio</strong>: \(r = (a / b\)</li>
<li><strong>Proportion</strong>: ratio when \(a\) is counted in b (e.g. \(b = a + c \)), relative frequency</li>
<li><strong>Rate</strong>: ratio or proportion within a specified time period (same for the numerator and denominator)</li>
<li><strong>Odds</strong>: \(o = p / (1 - p)\)</li>
<li><strong>Odds ratio</strong>: \(o_1 / o_2 = \frac{p / (1 - p)}{q / (1 - q)} = \frac{p (1 - q)}{q (1 - p)}\)</li>
</ul>
<h2>Person-time</h2>
<p>The time period of a study is not always the measure of time of interest.
In general the <em>exposure time</em> (or exposed time, also person-time) is, i.e. the amount of time
during which an event of interest could occur (e.g. the duration of a treatment which can be shorter than the
length of the study if a patient drops out.)
Over a population, the total person-time is the sum of individual person-times.</p>
<p>Its unit are <em>person-time</em>, for instance "patient-month", "child-year". Years being the most common.
For instance, following 5 people during 3 year lead to a 15 person-year total exposure time.
If two patients dropped-out after 1 year, the resulting exposure time is \(3 \times 3 + 2 \times 1 = 11\)
person-year.
It is also called the total <em>time at risk</em> for the population of interest.</p>
<h2>Open and closed populations</h2>
<p><strong>Closed population or cohort</strong>: fixed number of individuals at start, except for loss to
follow-up (which must be corrected in subsequent analyses), ouflow can only occur if people die
or develop the disease.</p>
<p><strong>Open population</strong>: inflow and outflow are possible, the size of the population can vary.</p>
<p><strong>Stationary population</strong>: open population with constant size (inflow compensates outflow).</p>
<h2>Incidence rate</h2>
<p>Consider an <em>event</em> to be for instance a new diagnosis for a pathology of interest. Then, the incidence rate
IR can then be computed as:
\[ \text{IR} = \frac{ \#\text{events}}{\sum_{s \in \text{subjects}} \text{person_time}(s)} \]
\[ = \frac{ \#\text{events}}{\text{total_person_time}} \]
For instance, following 100 people for one year and getting one case, one has
\( \text{IR} = 1 / 100 = 0.01 \text{ year}^{-1} \).
Following 40 people for 5 years and getting four cases, one has
\( \text{IR} = 4 / 200 = 0.02 \text{ year}^{-1} \)</p>
<p>Often, neither the patient exposure times (\(\text{person_time}(s)\)) or total exposure time
\(\text{total_person_time}\) are known. The denominator is therefore approximated by the mid-period population size \(N_{1/2}\) times the length of the time period \(T\):
\[ = \frac{ \#\text{events}}{N_{1/2} T} \]</p>
<p>Defining the individual rate \( \text{individual_rate}(s) \) of a subject \( s \) as \( 0 \)
if no event occured and \( 1 / \text{person_time}(s)\) if it did, the IR can be defined as:
\[ IR = \frac{\sum_{s \in \text{subjects}} \text{person_time}(s) \cdot \text{individual_rate}(s) }
{\sum_{s \in \text{subjects}} \text{person_time}(s)} \]</p>
<p>This is the average of individual rate, weighted by person-time.
For the examples above, we get
\( \text{IR} = 1 * (1 * 1 / 1) / 100 = 0.01 \text{ year}^{-1} \) and
\( IR = 4 * (5 * 1 / 5) / 200 = 0.02 \text{ year}^{-1} \).</p>
<p><strong>Remark</strong>: the IR depends on the unit, which should be reported. It is not a proportion.</p>
<p><strong>Remark 2</strong>: the IR can be computed for both open and closed (cohort) populations.
For open populations, the total person-time can be approximated by the average population size
multiplied by the study duration. This assumes that the in and out-flows are of similar
magnitude and independent of the diseased state.</p>
<h2>Incidence proportion</h2>
<p>Also called attack-rate (although it is not a rate).
In contrast to the incidence rate, the incidence proportion does not divide the number of new
cases by the total person-time but by the number of prople at risk at the beginning of the trial period:
\[ \text{IP} = \frac{ \#\text{events}}{\#\text{people initially at risk}} \]</p>
<p><strong>Remark</strong>: incidence proportion can easily be confused with <em>period prevalence</em> (see below).
The numerator for the former is the number of <em>new cases</em> whereas for the latter, it is the number
of <em>diseased</em> people even if the onset took place before the period of study.</p>
<p><strong>Remark 2</strong>: incidence proportion can only be computed for closed populations (cohorts).
Indeed, in an open population we do not know the number of people initially at risk.
Therefore a new case could either be a person a risk having experienced the event or a
person who already had experienced the event but flowed to the population under study later
on; and we cannot find out which is true.</p>
<h2>Prevalence proportion</h2>
<p>Also called prevalence rate (although not a rate) or absolute risk.</p>
<p>As opposed to incidence, the prevalence is concerned with all cases, not only new ones.
Let \((N_t\) be the population size at time \(t\). The <em>point prevalence</em> at time \(t\) is then:</p>
<p>\[ \text{PR}\cdot = \frac{ \text{#cases}}{N_t} \]</p>
<p>Let \((N_T\) be the population size during period \(T\), assuming it remains fixed.
The <em>period prevalence</em> period \(T\) is:
\[ \text{PR}_{[-]} = \frac{ \text{#cases with disease during t}}{N_T} \]</p>
<p><strong>Remark</strong>: for the period prevalence, the denominator is the average population size during
the time interval.</p>
<h2>Incidence versus prevalence</h2>
<p>Sources:</p>
<ul>
<li><a href="http://ocw.jhsph.edu/courses/FundEpi/PDFs/Lecture6.pdf">Lecture</a></li>
<li><a href="https://en.wikipedia.org/wiki/Incidence_(epidemiology)">https://en.wikipedia.org/wiki/Incidence_(epidemiology)</a></li>
<li><a href="https://en.wikipedia.org/wiki/Prevalence#Period_prevalence">https://en.wikipedia.org/wiki/Prevalence#Period_prevalence</a></li>
</ul>
<p>Incidence is a <em>rate</em>, i.e. it gives information on the rate of occurrence of the event.
This can be seen as the denominator has a time dimension.</p>
<p>Prevalence, on the other hand is a proportion of people who got the event, whether it is
at a given time and including all past occurrences (point prevalence), or during a specified
time period where only new cases are recorded (period prevalence). The denominator does not
quantify time, only the population size.</p>
<p>For rare diseases and a closed, or open <em>stationary</em> population, we have:
\[ \text{PR}_{[-]} = IR \cdot \text{average disease duration} \]</p>
<h1>Measures of association</h1>
<p>Used to quantify the association between a factor (e.g. higher education) and the occurence of a
condition (e.g. myopia).</p>
<p>Let D be the event "get the disease" and E be the event "exposed". The negative operator is denoted by "~"". Consider the following adjacency table:</p>
<table>
<thead>
<tr>
<th></th>
<th>D</th>
<th>~D</th>
</tr>
</thead>
<tbody>
<tr>
<td>E</td>
<td>a</td>
<td>b</td>
</tr>
<tr>
<td>~E</td>
<td>c</td>
<td>d</td>
</tr>
</tbody>
</table>
<h2>Relative risk (RR)</h2>
<p>Also called risk ratio.
If \(P_1\) is the prevalence of a pathology in a population <em>exposed</em> to some factor, and
\(P_0\) is the prevalence of the same pathology in a population not exposed to this factor, the relative risk is:
\[ \text{RR} = P_1 / P_0\ = \frac{a / (a + b)}{c / (c + d)} = \frac{a (c + d}{c (a + b)} \]</p>
<p>In terms of probabilities we have:
\[ \text{RR} = \frac{P(D | E)}{P(D | ~E)}\]</p>
<h2>Odds ratio (OR)</h2>
<p>Odds of having the disease in the exposed group:
\[O_1 = \frac{a/(a+b)}{b/a+b} = \frac{a}{b}\]
In terms of probabilities:
\[O_1 = \frac{P(D|E)}{P(~D|E)}\]</p>
<p>Odds of having the disease in the non-exposed group:
\[O_0 = \frac{c/(c+d)}{d/c+d} = \frac{c}{d}\]
In terms of probabilities:
\[O_0 = \frac{P(D|~E)}{P(~D|~E)}\]</p>
<p>Odds ratio:
\[\text{OR} = O_1 / O_0 = \frac{ad}{bc}\]
In terms of probabilities:
\[\text{OR} = \frac{P(D|E)}{P(~D|E)} \frac{P(~D|~E)}{P(D|~E)} \]</p>
<h2>Odds ratio versus relative risk</h2>
<p>Relative risk can only be calculated for cohort studies (see below) whereas odds ratio can be calculated
for both case-control and cohort studies.</p>
<p>If the incidence of the disease is low, OR is a good approximation of RR since
\(a + b \approx b\) and \(c + d \approx d\). Thus,
\[\text{RR} = \frac{a (c + d}{c (a + b)} \approx \frac{ad}{bc} = \text{OR}\]</p>
<h1>Stratification and adjustment strategies</h1>
<p><a href="http://ocw.jhsph.edu/courses/FundEpi/PDFs/Lecture7.pdf">Source</a></p>
<p>Stata are basically groups among the data defined by a variable. It could be age groups, sex
or combinations thereof for instance.</p>
<p>When comparing rate or proportions between two populations, the overall measure may be confounded
by their difference in composition. For instance, a young population may be less likely to die of
an heart attack than an older one. This calls for <em>adjustments strategies</em>.</p>
<h2>Direct method</h2>
<ol>
<li>Compute the proportion or rate of interest for each stratum in both populations.
   For instance prevalence of heart pathology by age group.</li>
<li>Build a <em>reference population</em> by summing the sizes of both populations for each stratum.</li>
<li>For each group, use the proportion or rate of interest to compute the <em>expected</em> number of cases in
   the reference population for each stratum.</li>
<li>Compute the overall proportion or rate for each group from the corresponding expected number of cases
   instead of the original ones.</li>
</ol>
<p>This methods requires to have access to the proportions or rates of interest for each stratum
of the populations. Sometime, all we have are the number of cases instead. Then the indirect method
can be of use.</p>
<h2>Indirect method</h2>
<ol>
<li>Build a <em>reference population</em> for the population under study. Both populations should be similar enough.
   For myopic white females versus general white female population. The rate or proportion of interest (or estimates
   thereof) must be available.</li>
<li>Using the stratum-specific proportions or rates from the reference population and the stratum sizes in the population
  under study, compute the <em>expected</em> number of cases in the the population under study.</li>
<li>Compute the ratio between the total expected and observed number of cases.</li>
</ol>
<h1>Types of study</h1>
<h2>Cohort trials</h2>
<p><a href="http://ocw.jhsph.edu/courses/FundEpiII/PDFs/Lecture13.pdf">Source</a></p>
<ul>
<li>group patients by exposure (non-random)</li>
<li>follow how the disease develops</li>
</ul>
<p>Remarks:</p>
<ul>
<li>propective cohort trials define groups now and follow them in the future</li>
<li>retrospective cohort trials define groups from past data and observe the disease now</li>
<li>cohort trials allow the computation of both relative risk and odd ratios</li>
</ul>
<h2>Case-control trials</h2>
<p><a href="http://ocw.jhsph.edu/courses/FundEpiII/PDFs/Lecture14.pdf">Source</a></p>
<ul>
<li>group patients by disease (non-random)</li>
<li>check past exposures</li>
</ul>
<h2>Cohort versus case-control</h2>
<p><a href="http://ocw.jhsph.edu/courses/FundEpiII/PDFs/Lecture16.pdf">Source</a></p>
<p>Case-control trials allow the computation of odd ratios but not of not of the relative risk.
The reason is that groups are defined by finding people with the disease (cases) and getting a
number of people without disease (controls). Therefore, the numbers in an adjacency table
do not give any information about the number of patients sampled to build the case and control
groups.</p>
<p>In particular, case-control trials are often conducted for rare diseases so that cases are
oversampled compared to controls: the prevalence is what the study design wants it to be.
Thus we do not know the total number of exposed and non-exposed patients needed to compute the relative risk.</p>
<p>In other words, we need to know the prevalence  which is only known for cohort trials since disease status&lt;is not used for defining the groups as opposed to case-control trials.</p>
<h2>Cross-sectional trials:</h2>
<p><a href="http://ocw.jhsph.edu/courses/FundEpiII/PDFs/Lecture15.pdf">Source</a></p>
<p>Record exposure and disease at the same time</p>
<p><strong>Remark</strong>: no causality can be infered.</p>
<h2>Randomized clinical trial:</h2>
<p><a href="http://ocw.jhsph.edu/courses/FundEpiII/PDFs/Lecture12.pdf">Source</a></p>
<ul>
<li>assign patients to groups randomly (possibly stratify with respect to some variables). Give treatment (exposure)</li>
<li>follow disease</li>
</ul>
<p><strong>Remark</strong>: necessarily prospective.</p>
<h2>Randomzed versus non-randomized trials</h2>
<p>Non-randomized trials have a higher risk to include biases.
For instance, coffee drinkers (exposure) may be more likely to develop lung cancer (disease)
if coffee drinkers are often heavy smokers.</p>
<h1>References</h1>
<ul>
<li>Rothman, Kenneth J., Sander Greenland, and Timothy L. Lash, eds. Modern epidemiology Chapter 3. Lippincott Williams &amp; Wilkins, 2008.</li>
<li><a href="http://ocw.jhsph.edu/courses/FundEpi/PDFs/Lecture5.pdf">http://ocw.jhsph.edu/courses/FundEpi/PDFs/Lecture5.pdf</a></li>
<li><a href="http://ocw.jhsph.edu/courses/FundEpi/PDFs/Lecture6.pdf">http://ocw.jhsph.edu/courses/FundEpi/PDFs/Lecture6.pdf</a></li>
<li><a href="http://ocw.jhsph.edu/courses/FundEpi/PDFs/Lecture7.pdf">http://ocw.jhsph.edu/courses/FundEpi/PDFs/Lecture7.pdf</a></li>
<li><a href="http://ocw.jhsph.edu/courses/FundEpiII/PDFs/Lecture13.pdf">http://ocw.jhsph.edu/courses/FundEpiII/PDFs/Lecture13.pdf</a></li>
<li><a href="http://ocw.jhsph.edu/courses/FundEpiII/PDFs/Lecture14.pdf">http://ocw.jhsph.edu/courses/FundEpiII/PDFs/Lecture14.pdf</a></li>
<li><a href="http://ocw.jhsph.edu/courses/FundEpiII/PDFs/Lecture16.pdf">http://ocw.jhsph.edu/courses/FundEpiII/PDFs/Lecture16.pdf</a></li>
<li><a href="http://ocw.jhsph.edu/courses/FundEpiII/PDFs/Lecture15.pdf">http://ocw.jhsph.edu/courses/FundEpiII/PDFs/Lecture15.pdf</a></li>
<li>
<p><a href="http://ocw.jhsph.edu/courses/FundEpiII/PDFs/Lecture12.pdf">http://ocw.jhsph.edu/courses/FundEpiII/PDFs/Lecture12.pdf</a></p>
</li>
<li>
<p><a href="https://en.wikipedia.org/wiki/Incidence_(epidemiology)">https://en.wikipedia.org/wiki/Incidence_(epidemiology)</a></p>
</li>
<li>
<p><a href="https://en.wikipedia.org/wiki/Prevalence#Period_prevalence">https://en.wikipedia.org/wiki/Prevalence#Period_prevalence</a></p>
</li>
<li>
<p><a href="https://www.cdc.gov/ophss/csels/dsepd/ss1978/lesson3/section2.html">https://www.cdc.gov/ophss/csels/dsepd/ss1978/lesson3/section2.html</a></p>
</li>
<li><a href="http://health.knowledgeblog.org/2011/07/22/basic-statistics-for-epidemiology/">http://health.knowledgeblog.org/2011/07/22/basic-statistics-for-epidemiology/</a></li>
<li><a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3465772/">https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3465772/</a></li>
</ul>
  </div><!-- /.entry-content -->
</section>
        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>,
                which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->
</body>
</html>